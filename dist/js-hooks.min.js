!function(t,r){"use strict";var n=function(){function t(t,r,n,i){return"string"==typeof t&&"function"==typeof r&&(n=parseInt(n||10,10),c("actions",t,r,n,i)),u}function r(){var t=a.call(arguments),r=t.shift();return"string"==typeof r&&s("actions",r,t),u}function n(t,r){return"string"==typeof t&&f("actions",t,r),u}function i(t,r,n,i){return"string"==typeof t&&"function"==typeof r&&(n=parseInt(n||10,10),c("filters",t,r,n,i)),u}function e(){var t=a.call(arguments),r=t.shift();return"string"==typeof r?s("filters",r,t):u}function o(t,r){return"string"==typeof t&&f("filters",t,r),u}function f(t,r,n,i){var e,o,f;if(p[t][r])if(n)if(e=p[t][r],i)for(f=e.length;f--;)o=e[f],o.callback===n&&o.context===i&&e.splice(f,1);else for(f=e.length;f--;)e[f].callback===n&&e.splice(f,1);else p[t][r]=[]}function c(t,r,n,i,e){var o={callback:n,priority:i,context:e},f=p[t][r];f?(f.push(o),f=l(f)):f=[o],p[t][r]=f}function l(t){for(var r,n,i,e=1,o=t.length;e<o;e++){for(r=t[e],n=e;(i=t[n-1])&&i.priority>r.priority;)t[n]=t[n-1],--n;t[n]=r}return t}function s(t,r,n){var i,e,o=p[t][r];if(!o)return"filters"===t&&n[0];if(e=o.length,"filters"===t)for(i=0;i<e;i++)n[0]=o[i].callback.apply(o[i].context,n);else for(i=0;i<e;i++)o[i].callback.apply(o[i].context,n);return"filters"!==t||n[0]}var a=Array.prototype.slice,u={addAction:t,addFilter:i,applyFilters:e,doAction:r,removeAction:n,removeFilter:o},p={actions:{},filters:{}};return u};t.hooks=t.hooks||new n}(window);